# =================================
# DOCKER COMPOSE ENVIRONMENT VARIABLES
# =================================
# ⚠️ Copy this file to .env.production and update values
# ⚠️ DO NOT commit .env.production to git!

# ===========================
# APPLICATION CONFIGURATION
# ===========================
NODE_ENV=production
APP_URL=https://your-domain.com
NEXT_PUBLIC_API_URL=https://api.your-domain.com/api/v1

# ===========================
# DATABASE (MySQL)
# ===========================
MYSQL_ROOT_PASSWORD=CHANGE_THIS_ROOT_PASSWORD
DATABASE_NAME=ternantapp_production
DATABASE_USER=ternantapp_prod
DATABASE_PASSWORD=CHANGE_THIS_DB_PASSWORD
DATABASE_HOST=mysql
DATABASE_PORT=3306

# ===========================
# REDIS CACHE
# ===========================
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_TTL=3600

# ===========================
# BACKEND API
# ===========================
PORT=3001
API_PREFIX=api/v1

# JWT Security - Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CHANGE_THIS_TO_64_CHAR_RANDOM_STRING
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=CHANGE_THIS_TO_DIFFERENT_64_CHAR_RANDOM_STRING
JWT_REFRESH_EXPIRES_IN=7d
SESSION_SECRET=CHANGE_THIS_TO_32_CHAR_RANDOM_STRING

# CORS
CORS_ORIGINS=https://your-domain.com
CORS_CREDENTIALS=true

# Rate Limiting
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# Database Pool
DB_POOL_SIZE=20
DB_POOL_ACQUIRE_TIMEOUT=30000

# ===========================
# FRONTEND (Next.js)
# ===========================
# Frontend runs on port 3000
FRONTEND_PORT=3000

# ===========================
# EMAIL (SMTP)
# ===========================
MAIL_HOST=smtp.your-provider.com
MAIL_PORT=587
MAIL_USER=noreply@your-domain.com
MAIL_PASSWORD=CHANGE_THIS_SMTP_PASSWORD
MAIL_FROM=TernantApp <noreply@your-domain.com>
MAIL_SECURE=false

# ===========================
# MONITORING STACK (Optional)
# ===========================
# Grafana admin credentials
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=admin123

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3002

# Exporters
NODE_EXPORTER_PORT=9100
MYSQL_EXPORTER_PORT=9104
REDIS_EXPORTER_PORT=9121

# ===========================
# LOGGING
# ===========================
LOG_LEVEL=info
LOG_FILE_PATH=./logs
